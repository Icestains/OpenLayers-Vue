(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-595d6ff0"],{"274a":function(t,e,o){},7779:function(t,e,o){"use strict";var a=o("274a"),n=o.n(a);n.a},f700:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"root",attrs:{id:"openLayers"}},[o("div",{staticClass:"map",attrs:{id:"rootMap"}}),o("div",{staticClass:"controls"},[o("span",[t._v("地图源：")]),o("div",{staticClass:"custom-control custom-radio",on:{click:t.switch2OSM}},[o("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"customRadio1",name:"customRadio",checked:""}}),o("label",{staticClass:"custom-control-label",attrs:{for:"customRadio1"}},[t._v("OSM")])]),o("div",{staticClass:"custom-control custom-radio",on:{click:t.switch2BaiduMap}},[o("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"customRadio2",name:"customRadio"}}),o("label",{staticClass:"custom-control-label",attrs:{for:"customRadio2"}},[t._v("baidu")])]),o("div",{staticClass:"custom-control custom-radio",on:{click:t.switch2Google}},[o("input",{staticClass:"custom-control-input",attrs:{type:"radio",id:"customRadio3",name:"customRadio"}}),o("label",{staticClass:"custom-control-label",attrs:{for:"customRadio3"}},[t._v("google")])])]),o("div",{staticClass:"controls"},[o("button",{staticClass:"btn btn-outline-secondary",attrs:{disabled:""}},[t._v("zoom: "+t._s(t.zoom))]),o("button",{staticClass:"btn btn-outline-secondary",attrs:{disabled:""}},[t._v("resolution: "+t._s(t.resolution))]),o("button",{staticClass:"btn btn-outline-secondary",attrs:{disabled:""}},[t._v("center: "+t._s(t.center))]),o("button",{staticClass:"btn btn-outline-secondary",attrs:{disabled:""}},[t._v("extent: "+t._s(t.extent))])]),o("div",{staticClass:"controls"},[o("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.moveToLeft}},[t._v("left")]),o("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.moveToRight}},[t._v("Right")]),o("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.moveToUp}},[t._v("up")]),o("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.moveToDown}},[t._v("down")])]),o("div",{staticClass:"controls"},[o("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.zoomOut}},[t._v("放大")]),o("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.zoomIn}},[t._v("缩小")]),o("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.moveToSuZhou}},[t._v("苏州")]),o("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:t.fitToSuZhou}},[t._v("显示苏州")]),o("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return t.markLocalImage(t.map)}}},[t._v("标记中心")])])])},n=[],s=o("2b0e"),i=(o("4989"),o("5bc0"),o("5eee")),c=o("a2c7"),r=o("480c"),l=o("3e6b"),u=o("d0e9"),m=o("2ef1"),p=o("5831"),d=o("91b1"),b=o("78db"),h=o("256f"),v=o("f403"),w=o("4cdf"),f=o("0af5"),g=o("6c77"),y=o("6cbf"),C=o("cf05"),_=o.n(C),S={name:"rootMap",data:function(){return{map:null,view:null,imap:null,zoom:12,resolution:0,center:[0,0],extent:[0,0,0,0],moveStep:1e4}},mounted:function(){this.init()},methods:{init:function(){var t=Object(h["d"])("EPSG:4326"),e=new u["a"];this.map=new i["a"]({target:"rootMap",layers:[new r["a"]({source:e})],view:new c["a"]({extent:[120,31,121,32],center:[120.58,31.3],projection:t,zoom:12,minZoom:8,maxZoom:14})}),this.getMapInfo(this.map)},getMapInfo:function(t){var e=t.getView();this.zoom=e.getZoom(),this.resolution=e.getResolution(),this.extent=e.calculateExtent(t.getSize()),this.center=Object(f["x"])(this.extent),this.moveStep=(this.extent[2]-this.extent[0])/4},zoomIn:function(){var t=this.map.getView();t.setZoom(t.getZoom()-1)},zoomOut:function(){var t=this.map.getView();t.setZoom(t.getZoom()+1)},moveToSuZhou:function(){var t=this.map.getView();t.setCenter([120.58,31.3]),this.map.render()},moveToLeft:function(){var t=this.map.getView(),e=t.getCenter();e[0]+=this.moveStep,t.setCenter(e),this.center=e,s["a"].set(this.center,e),this.map.render()},moveToRight:function(){var t=this.map.getView(),e=t.getCenter();e[0]-=this.moveStep,t.setCenter(e),this.getMapInfo(this.map),this.map.render()},moveToUp:function(){var t=this.map.getView(),e=t.getCenter();e[1]+=this.moveStep,t.setCenter(e),this.getMapInfo(this.map),this.map.render()},moveToDown:function(){var t=this.map.getView(),e=t.getCenter();e[1]-=this.moveStep,t.setCenter(e),this.getMapInfo(this.map),this.map.render()},fitToSuZhou:function(){this.map.getView().fit([120.46,31.24,120.7,31.36],this.map.getSize())},switch2BaiduMap:function(){for(var t=[],e=18,o=0;o<=e;o++)t[o]=Math.pow(2,e-o);var a=new b["a"]({origin:[0,0],resolutions:t}),n=new d["a"]({projection:"EPSG:3857",tileGrid:a,tileUrlFunction:function(t){var e=t[0],o=t[1],a=t[2];return o<0&&(o="M"+-o),a<0&&(a="M"+-a),"http://online0.map.bdimg.com/onlinelabel/?qt=tile&x="+o+"&y="+a+"&z="+e+"&styles=pl&udt=20160426&scaler=1&p=0"}}),s=new r["a"]({source:n});this.map.removeLayer(this.map.getLayers().item(0)),this.map.addLayer(s)},switch2OSM:function(){var t=new r["a"]({source:new u["a"]});this.map.removeLayer(this.map.getLayers().item(0)),this.map.addLayer(t)},switch2Google:function(){var t=new r["a"]({source:new m["a"]({url:"http://www.google.cn/maps/vt/pb=!1m4!1m3!1i{z}!2i{x}!3i{y}!2m3!1e0!2sm!3i345013117!3m8!2szh-CN!3scn!5e1105!12m4!1e68!2m2!1sset!2sRoadmap!4e0"})});this.map.removeLayer(this.map.getLayers().item(0)),this.map.addLayer(t)},markLocalImage:function(t){var e=t.getView().calculateExtent(t.getSize()),o=Object(f["x"])(e);window.console.log("extent:"+e),window.console.log("center:"+o);var a=new l["a"]({source:new p["a"]}),n=new w["a"]({geometry:new v["a"]([o[0],o[1]])});n.setStyle(new g["c"]({image:new y["a"]({src:_.a,anchor:[.5,1],scale:.2})})),a.getSource().addFeature(n),t.addLayer(a)}}},k=S,x=(o("7779"),o("2877")),M=Object(x["a"])(k,a,n,!1,null,"8eda53e6",null);e["default"]=M.exports}}]);